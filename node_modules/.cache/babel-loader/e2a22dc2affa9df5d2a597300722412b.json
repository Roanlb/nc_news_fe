{"ast":null,"code":"import _classCallCheck from\"/home/roan/Desktop/fe-nc-news/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/roan/Desktop/fe-nc-news/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/roan/Desktop/fe-nc-news/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/roan/Desktop/fe-nc-news/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/roan/Desktop/fe-nc-news/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import*as api from'../utils/axiosRequests';var Voter=/*#__PURE__*/function(_Component){_inherits(Voter,_Component);function Voter(){var _getPrototypeOf2;var _this;_classCallCheck(this,Voter);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Voter)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={optimisticVotes:0};_this.handleVote=function(event){var increment=+event.target.id;var id=_this.props.id;var type=_this.props.type;if(_this.state.optimisticVotes!==0){api.vertasilePatch(-_this.state.optimisticVotes,id,type);_this.setState({optimisticVotes:0});}else{api.vertasilePatch(increment,id,type).then(function(){_this.setState({optimisticVotes:increment});});}};return _this;}_createClass(Voter,[{key:\"render\",value:function render(){return React.createElement(\"div\",{className:\"Voter\"},React.createElement(\"h5\",{className:\"VoterText\"},\"Votes: \"),React.createElement(\"button\",{className:\"VoteButton\",onClick:this.handleVote,id:\"1\"},\"Upvote\"),React.createElement(\"p\",{className:\"VoterText\"},this.state.optimisticVotes?this.props.votes+this.state.optimisticVotes:this.props.votes),React.createElement(\"button\",{className:\"VoteButton\",onClick:this.handleVote,id:\"-1\"},\"Downvote\"));}}]);return Voter;}(Component);export default Voter;","map":{"version":3,"sources":["/home/roan/Desktop/fe-nc-news/src/components/Voter.jsx"],"names":["React","Component","api","Voter","state","optimisticVotes","handleVote","event","increment","target","id","props","type","vertasilePatch","setState","then","votes"],"mappings":"8jBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAO,GAAKC,CAAAA,GAAZ,KAAqB,wBAArB,C,GAEMC,CAAAA,K,2XACJC,K,CAAQ,CACNC,eAAe,CAAE,CADX,C,OAIRC,U,CAAa,SAAAC,KAAK,CAAI,CACpB,GAAIC,CAAAA,SAAS,CAAG,CAACD,KAAK,CAACE,MAAN,CAAaC,EAA9B,CACA,GAAIA,CAAAA,EAAE,CAAG,MAAKC,KAAL,CAAWD,EAApB,CACA,GAAIE,CAAAA,IAAI,CAAG,MAAKD,KAAL,CAAWC,IAAtB,CACA,GAAI,MAAKR,KAAL,CAAWC,eAAX,GAA+B,CAAnC,CAAsC,CACpCH,GAAG,CAACW,cAAJ,CAAmB,CAAC,MAAKT,KAAL,CAAWC,eAA/B,CAAgDK,EAAhD,CAAoDE,IAApD,EACA,MAAKE,QAAL,CAAc,CAAET,eAAe,CAAE,CAAnB,CAAd,EACD,CAHD,IAGO,CACLH,GAAG,CAACW,cAAJ,CAAmBL,SAAnB,CAA8BE,EAA9B,CAAkCE,IAAlC,EAAwCG,IAAxC,CAA6C,UAAM,CACjD,MAAKD,QAAL,CAAc,CAAET,eAAe,CAAEG,SAAnB,CAAd,EACD,CAFD,EAGD,CACF,C,wEAEQ,CACP,MACE,4BAAK,SAAS,CAAC,OAAf,EACE,0BAAI,SAAS,CAAC,WAAd,YADF,CAGE,8BAAQ,SAAS,CAAC,YAAlB,CAA+B,OAAO,CAAE,KAAKF,UAA7C,CAAyD,EAAE,CAAC,GAA5D,WAHF,CAME,yBAAG,SAAS,CAAC,WAAb,EACG,KAAKF,KAAL,CAAWC,eAAX,CACG,KAAKM,KAAL,CAAWK,KAAX,CAAmB,KAAKZ,KAAL,CAAWC,eADjC,CAEG,KAAKM,KAAL,CAAWK,KAHjB,CANF,CAWE,8BAAQ,SAAS,CAAC,YAAlB,CAA+B,OAAO,CAAE,KAAKV,UAA7C,CAAyD,EAAE,CAAC,IAA5D,aAXF,CADF,CAiBD,C,mBArCiBL,S,EAwCpB,cAAeE,CAAAA,KAAf","sourcesContent":["import React, { Component } from 'react';\nimport * as api from '../utils/axiosRequests';\n\nclass Voter extends Component {\n  state = {\n    optimisticVotes: 0\n  };\n\n  handleVote = event => {\n    let increment = +event.target.id;\n    let id = this.props.id;\n    let type = this.props.type;\n    if (this.state.optimisticVotes !== 0) {\n      api.vertasilePatch(-this.state.optimisticVotes, id, type);\n      this.setState({ optimisticVotes: 0 });\n    } else {\n      api.vertasilePatch(increment, id, type).then(() => {\n        this.setState({ optimisticVotes: increment });\n      });\n    }\n  };\n\n  render() {\n    return (\n      <div className=\"Voter\">\n        <h5 className=\"VoterText\">Votes: </h5>\n\n        <button className=\"VoteButton\" onClick={this.handleVote} id=\"1\">\n          Upvote\n        </button>\n        <p className=\"VoterText\">\n          {this.state.optimisticVotes\n            ? this.props.votes + this.state.optimisticVotes\n            : this.props.votes}\n        </p>\n        <button className=\"VoteButton\" onClick={this.handleVote} id=\"-1\">\n          Downvote\n        </button>\n      </div>\n    );\n  }\n}\n\nexport default Voter;\n"]},"metadata":{},"sourceType":"module"}